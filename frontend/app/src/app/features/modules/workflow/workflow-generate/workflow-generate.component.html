<div class="workflow-generate">
  <mat-card class="box mat-elevation-z6" color="foreground">
    <mat-card-header>
      <mat-card-title>
        {{ "sirdcat.modules.workflow.generate.title" | translate }}
        <mat-divider></mat-divider>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="row m-0">
        <div class="col xl12 l12 m12 s12">
          <mat-form-field appearance="standard" class="full-width">
            <mat-label>{{
              "sirdcat.modules.workflow.generate.label" | translate
            }}</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              (dateInput)="addDate($event)"
              (dateChange)="addDate($event)"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker color="accent" touchUi #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="my-4 col xl12 l12 m12 s12">
          <button
            mat-raised-button
            type="submit"
            class="btn-block"
            (click)="startWorkflow()"
          >
            {{ "sirdcat.modules.workflow.generate.btn" | translate }}
          </button>
        </div>
      </div>
      <div class="row m-0">
        <div class="col m12 s12" *ngIf="workStarted">
          <mat-progress-bar
            [mode]="inQuery && progress != 100 ? 'query' : 'determinate'"
            value="{{ progress }}"
            color="accent"
            class="my-6"
          ></mat-progress-bar>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
